<div ng-controller="createController" flex="" layout="column" class="page" id="nav" style="background-color:white; ">



<!--
                <header  class="createHeader" ng-if="currentSection != 'default'" style="z-index:1000">
                    <md-toolbar >
                     <div class="md-toolbar-tools" layout="row" layout-align="center center">

                        <md-button class="md-icon-button" aria-label="Navigation" ng-model-options="{ debounce: 1000 }">
                        <a href="#create/default"><md-icon md-svg-icon="./bower_components/material-design-icons/navigation/svg/design/ic_arrow_back_48px.svg"></md-icon></a>
                        </md-button>

                        <h2 class="page_header">
                          <a  href="#create/default">{{currentSection}}</a>
                        </h2>

                        <span flex></span>
                        <a ng-href="#account" aria-label="Account" style="border:none" >
                          <div class="profileWrapper">
                            <div class="profile_picture" style="background-image: url(img/rod.png);" />
                          </div>
                        </a>




                      </div>
                    </md-toolbar>
                </header>
-->

    <section flex="" layout="column"  style="position:relative">
        <md-content id="testAgain" >


<!--                SECTION NAVIGATION   -->
            <md-card ng-if="currentSection == 'default'">
               <md-card-content>
                <md-list class="subMenu"  >
                    <md-list-item ng-repeat="(sectionkey, section) in notSorted(report)" style="position:relative" flex="">
                        <a href="#create/{{section}}" class="menuButton">
                        <md-button class="md-no-style  md-secondary" style="" aria-label="{{section}}">{{section}}</md-button>
                        </a>
                        <md-divider></md-divider>
                    </md-list-item>
                </md-list>


             <a href="#generate">
                 <md-button ng-click="checkRequired()" class="md-raised" aria-label="generate Report">Generate Report</md-button>
             </a>

             </md-card-content>
            </md-card>


<!--           PAGES-->
<md-card ng-if="currentSection != 'default'">

           <md-tabs  md-dynamic-height  md-swipe-content style="padding:0 16px 16px 16px">
            <md-tab ng-if="currentSection != 'default'" ng-repeat="(pagekey, pagetitle) in notSorted(report[currentSection])" class="md-whiteframe-z1 subPageStyle" ng-init="page = report[currentSection][pagetitle]" md-on-select="changeSelection(pagetitle)">

    <md-tab-label>{{pagetitle}}</md-tab-label>
            <md-tab-body>
                   <div>
                    <div ng-repeat="(listKey, listValue) in notSorted(page)" ng-init="itemVal = report[currentSection][pagetitle][listValue]">

<!--                       CLIENT INFO-->
                        <div ng-if="itemVal.type == 'clientinfo' && (itemVal.required == true || service.hideShowOptions.showNonRequired)">
                            <div layout="row">
                                <h3 class="md-subhead" ng-click="toggleItem(itemVal)">Client Info:</h3>
                            </div>
                            <div ng-if="itemVal.showvalue">
                            <div layout="row" layout-sm="column">

                                <div layout="" layout-sm="column">
                                    <md-input-container flex="">
                                        <label>First name</label>
                                        <input ng-model="itemVal.value.firstName">
                                    </md-input-container>
                                    <md-input-container flex="">
                                        <label>Last Name</label>
                                        <input ng-model="itemVal.value.lastName">
                                    </md-input-container>
                                </div>
                            </div>
                            <md-input-container flex="">
                                <label>Address</label>
                                <input ng-model="itemVal.value.address">
                            </md-input-container>

                            <md-input-container md-no-float="">
                                <label>Address Line 2</label>
                                <input ng-model="itemVal.value.addressTwo">
                            </md-input-container>

                            <div layout="" layout-sm="column">
                                <md-input-container flex="">
                                    <label>City</label>
                                    <input ng-model="itemVal.value.city">
                                </md-input-container>
                                <md-input-container flex="">
                                    <label>State</label>
                                    <input ng-model="itemVal.value.state">
                                </md-input-container>
                                <md-input-container flex="">
                                    <label>Postal Code</label>
                                    <input ng-model="itemVal.value.postalCode">
                                </md-input-container>
                            </div>
                        </div>
<!--                        <md-divider></md-divider>-->
                        </div>

                        <div layout="column" layout-fill="" layout-align="top center">

<!--                           PRE-SET TEXT-->
                            <div ng-if="itemVal.type == 'presettext'  && (itemVal.required == true || service.hideShowOptions.showNonRequired)">
                                   <div layout="row">
<!--                                       <md-switch ng-disabled="true" ng-model="isDisabled" aria-label="Disabled" />-->
                                       <h3 class="md-subhead" style="border:none" ng-click="toggleItem(itemVal)">{{listValue}} Message:</h3>
                                   </div>

                                    <div class="relFlex" ng-if="itemVal.showvalue" layout="column">
                                        <md-switch ng-model="itemVal.showcontent" aria-label="Show listValue" class="firstPosition md-body-1">Show {{listValue}} Message </md-switch>

                                        <md-card>
                                        <md-card-content>{{itemVal.content}}</md-card-content>
                                        </md-card>

<!--                                        <div flex></div>-->
<!--                                        <md-icon md-svg-icon="./bower_components/material-design-icons/communication/svg/design/ic_message_48px.svg" class="md-accent" ng-click="showMessage($event, listValue, itemVal.content)" flex="10"></md-icon>-->
                                    </div>
<!--                                    <md-divider></md-divider>-->
                            </div>

<!--                           CHECKBOX-->
                            <div ng-if="itemVal.type == 'checkbox'  && (itemVal.required == true || service.hideShowOptions.showNonRequired)">
                                <div layout="row">
<!--                                            <md-icon md-svg-icon="./bower_components/material-design-icons/content/svg/design/ic_add_box_48px.svg" class="" ></md-icon>-->
                                <h3 class="md-subhead" ng-click="toggleItem(itemVal)" flex="">{{listValue}}:</h3>
                                </div>
                                <div ng-repeat="(checkboxkey, checkboxval) in notSorted(itemVal.value)" ng-init="checkboxvalue = itemVal.value[checkboxval]"  layout="row" class="list_item" style="position:relative" ng-if="itemVal.showvalue">

                       <span md-ink-ripple class="md-body-1" md-proxy-focus style="margin:0" >
                           <md-checkbox class="md-secondary checkboxery" ng-model="checkboxvalue.c"  md-no-ink style="position:relative; display:inline" >{{checkboxval}}
                            </md-checkbox>
                       </span>
                                    <div flex=""></div>

                                    <md-menu  flex="10" style="text-align:center;" >
                                    <div ng-click="$mdOpenMenu()" style="padding:0 5px">
                                    <md-icon md-svg-icon="./bower_components/material-design-icons/image/svg/design/ic_image_48px.svg" class="md-accent" ng-show="checkboxvalue.i != '' && checkboxvalue.c"></md-icon>
                                    </div>
                                    <md-menu-content>
                                         <md-content style="max-height:480px;  overflow-y:scroll;">
                                   <md-card ng-repeat="checkboxImage in checkboxvalue.i" style="position:relative;" layout="column" layout-align="center end">
                                   <div ng-click="removeIMG(checkboxImage, checkboxvalue.i)" class="cancelIMG" flex="">
                                       <md-icon md-svg-icon="./bower_components/material-design-icons/content/svg/design/ic_clear_48px.svg" class="" ></md-icon>
                                   </div>
                                        <div class="UpPicture" style="background-image: url('{{checkboxImage.i}}')" />
                                    </md-card>
                                    </md-content>
                                    </md-menu-content>

                                    </md-menu>
<!--report[currentSection][pagetitle][listValue].value[checkboxval].i-->
                              <md-icon ng-show="checkboxvalue.c"  md-svg-icon="./bower_components/material-design-icons/image/svg/design/ic_camera_48px.svg" class="md-accent" ng-click="initCameraAction(checkboxvalue)" aria-label="capture photo" flex="10"></md-icon>
<!--       <md-button ng-click="appendTo(itemVal)">TEST BUTTON</md-button>-->
                                </div>
<!--                                <md-divider></md-divider>-->
                            </div>

<!--                            RADIO-->
                            <div ng-if="itemVal.type == 'radio'  && (itemVal.required == true || service.hideShowOptions.showNonRequired)">

                                <h3 class="md-subhead" ng-click="toggleItem(itemVal)">{{listValue}}:</h3>
                                <md-radio-group ng-model="itemVal.value" ng-if="itemVal.showvalue">
                                    <md-radio-button ng-repeat="(radiokey, radiovalue) in notSorted(itemVal.content)" ng-init="radioval = itemVal.content[radiovalue]" ng-value="radioval" class="radioHeight"><span >{{radioval}}</span></md-radio-button>
                                </md-radio-group>
<!--                                <md-divider></md-divider>-->
                            </div>

<!--                           NUMBER-->
                            <div ng-if="itemVal.type == 'number'  && (itemVal.required == true || service.hideShowOptions.showNonRequired)">
                                <h3 class="md-subhead" ng-click="toggleItem(itemVal)">{{listValue}}:</h3>
                                <md-input-container layout="row" ng-if="itemVal.showvalue">
                                    <label>{{itemVal.label}}</label>
                                    <input ng-model="itemVal.value" type="number" flex-gt-sm="50" flex-sm="">
                                </md-input-container>
<!--                                <md-divider></md-divider>-->
                            </div>

<!--                           TEXT-->
                            <div ng-if="itemVal.type == 'text'  && (itemVal.required == true || service.hideShowOptions.showNonRequired)">
                                <h3 class="md-subhead" ng-click="toggleItem(itemVal)">{{listValue}}:</h3>
                                <md-input-container ng-if="itemVal.showvalue">
                                    <label>{{itemVal.label}}</label>
                                    <input ng-model="itemVal.value" type="text" >
                                </md-input-container>
<!--                                <md-divider></md-divider>-->
                            </div>

<!--                           SELECT-->
                            <div ng-if="itemVal.type == 'select'  && (itemVal.required == true || service.hideShowOptions.showNonRequired)">
                               <h3 class="md-subhead" ng-click="toggleItem(itemVal)">{{listValue}}:</h3>
                                <md-input-container ng-if="itemVal.showvalue">
                                  <md-select ng-model="itemVal.value" placeholder="Select {{listValue}}">
                                    <md-option ng-repeat="(radiokey, radiovalue) in notSorted(itemVal.content)" ng-init="radioval = itemVal.content[radiovalue]" ng-value="radioval">{{ radioval }}</md-option>
                                  </md-select>
                                </md-input-container>
<!--                                <md-divider></md-divider>-->
                            </div>

<!--                           DATE-->
                            <div  ng-if="itemVal.type == 'date'  && (itemVal.required == true || service.hideShowOptions.showNonRequired)">
                                <h3 class="md-subhead" ng-click="toggleItem(itemVal)">{{listValue}}:</h3>
                                <md-input-container layout="row" ng-if="itemVal.showvalue">
                                    <label>{{itemVal.label}}</label>
                                    <input ng-model="itemVal.value" type="date" flex-gt-sm="50" flex-sm="">
                                </md-input-container>
<!--                                <md-divider></md-divider>-->
                            </div>


                  <div  ng-if="itemVal.type == 'image'  && (itemVal.required == true || service.hideShowOptions.showNonRequired)" layout="row" layout-align="start center">
                    <md-button class="md-raised" aria-label="Photos" ng-click="capturePagePhoto(listValue, itemVal)">
                        <md-icon md-svg-icon="./bower_components/material-design-icons/image/svg/design/ic_camera_48px.svg"></md-icon>Add Photo</md-button>

                    <md-menu  flex="10" style="text-align:center;" ng-if="itemVal.content.length != 0">
                    <div ng-click="$mdOpenMenu()" style="padding:0 5px">
                        <md-icon md-svg-icon="./bower_components/material-design-icons/image/svg/design/ic_image_48px.svg" class="md-accent" ></md-icon>
                    </div>
                    <md-menu-content>
                       <md-content style="max-height:480px;  overflow-y:scroll;">
                       <md-card ng-repeat="pageImage in itemVal.content" style="position:relative;" layout="column" layout-align="center end">
                       <div ng-click="removeIMG(pageImage, itemVal.content)" class="cancelIMG" flex="">
                           <md-icon md-svg-icon="./bower_components/material-design-icons/content/svg/design/ic_clear_48px.svg" class="" ></md-icon>
                       </div>
                        <div  class="UpPicture" style="background-image: url('{{pageImage.i}}'); background-color:black" />
                        </md-card>
                        </md-content>
                    </md-menu-content>
                    </md-menu>
                        </div>

                  <div  ng-if="itemVal.type == 'photoAppendix'  && (itemVal.required == true || service.hideShowOptions.showNonRequired)" layout="column" layout-align="start start">

                        <div  layout="row" layout-sm="column">
                          <div flex="50">
                               <div ng-repeat="pageImage in itemVal.content" ng-if="$even">

                                <div class="UpPicture" style="background-image: url('{{pageItem.i}}')" >
                                    <div class="md-caption pictureBox"></div>
                                   <div class="centerTextVertical"><span class="md-caption imageTitle">{{listValue}}</span></div>
                                 </div>

                                </div>
                            </div>
                            <div flex="50">
                               <div ng-repeat="pageImage in itemVal.content" ng-if="$odd">

                                <div class="UpPicture" style="background-image: url('{{pageItem.i}}')" >
                                    <div class="md-caption pictureBox"></div>
                                   <div class="centerTextVertical"><span class="md-caption imageTitle">{{listValue}}</span></div>
                                 </div>

                                </div>
                            </div>
                        </div>


                    <md-button class="cameraButton md-accent" aria-label="Photos" ng-click="capturePagePhoto(listValue, itemVal)">
                        <md-icon md-svg-icon="./bower_components/material-design-icons/image/svg/design/ic_camera_48px.svg" ></md-icon> Add Photo
                    </md-button>

                        </div>

                    </div>
                    </div>

<!--<md-button class="md-fab">Item</md-button>-->


<script type="text/ng-template" id="itemDialog.html">
         <md-dialog>
         <md-toolbar layout="row" layout-align="center center">
             <h4 class="md-subhead" style="padding:0 25px">Add Item</h3>
             <span flex></span>
                 <md-button class="md-icon-button" ng-click="cancelDialog()">
       <md-icon md-svg-icon="./bower_components/material-design-icons/navigation/svg/design/ic_close_48px.svg" ></md-icon>
      </md-button>
         </md-toolbar>
         <md-dialog-content focusOnOpen="false">
<!--         <div class="backgroundCover">asdasd</div>-->

<!--          <div class="centerMenu" ng-if="showAddItemMenu">-->
<!--                      <md-card class="centerCenterMenu" >-->
<!--
<md-card  >
             <md-card-content>
-->
               <input ng-hide="true" type="text"  autofocus />
                <md-input-container style="width:150px;">
                 <label>Select Item Type</label>
                  <md-select ng-model="newItem.content.type" value="typevalue" md-on-close="resetNewItemValueContents()">
                    <md-option ng-repeat="(typekey, typevalue) in itemTypes.types" >{{typekey}}</md-option>
                  </md-select>
                </md-input-container>


                 <input ng-if="newItem.content.type != ''" ng-model="newItem.title" required class="md-subhead" style="width:300px; border:none;" type="text" placeholder="Item Title">


                    <div ng-if="newItem.content.type == 'radio' || newItem.content.type == 'select'" >

                        <!--RADIO-->
                        <div ng-if="newItem.content.type == 'radio'" >
                            <md-radio-group ng-model="newItem.content.value" >
                               <div layout="row"  ng-repeat="(radkey, radval) in newItem.content.content">
                                <md-radio-button ng-value="radval" class="radioHeight"><span >{{radval}}</span></md-radio-button>
                                <span flex=""></span>
                                <md-icon ng-click="removeItem(radkey, newItem.content.type)" md-svg-icon="./bower_components/material-design-icons/navigation/svg/design/ic_cancel_48px.svg" ></md-icon>
                                 </div>
                            </md-radio-group>
                         </div>

                        <!--SELECT-->
                        <div ng-if="newItem.content.type == 'select'">
                            <md-input-container >
                              <md-select ng-model="newItem.content.value">
                                <md-option ng-repeat="(selkey, selval) in newItem.content.content" ng-value="selval">{{ selval }}</md-option>
                              </md-select>
                            </md-input-container>
                        </div>

                        <form ng-submit="addNewItem(newItem.content.type, newstuff); newstuff ='' ">
                            <div layout="row" style="margin-top:10px">
                                <button type="submit" style="background-color:transparent; margin:0px 5px 0 5px; padding:0px 0 0 0; border:none; color:white; height:0;"><md-icon style="color:gray" md-svg-icon="./bower_components/material-design-icons/content/svg/design/ic_add_48px.svg"></md-icon>
                                </button>
                                <input required style="border-width: 0 0 1px 0" ng-model="newstuff" type="text" placeholder="List item">
                            </div>
                        </form>

                    </div>

                <div ng-if="newItem.content.type == 'checkbox'" >

                        <!--CHECKBOX-->
                        <div ng-if="newItem.content.type == 'checkbox'">
                            <div layout="row" layout-align="space-between center" ng-repeat="(checkbkey, checkbval) in newItem.content.value">
                                <md-checkbox class="md-secondary checkboxery"  ng-model="checkbval.c"> {{checkbkey}}
                                </md-checkbox>
                                <span flex=""></span>

                                <md-icon ng-click="removeItem(checkbkey)" md-svg-icon="./bower_components/material-design-icons/navigation/svg/design/ic_cancel_48px.svg" ></md-icon>
                            </div>
                        </div>

                      <form ng-submit="addNewItem(newItem.content.type, newstuff); newstuff ='' ">
                            <div layout="row" style="margin-top:10px">
                                <button type="submit" style="background-color:transparent; margin:0px 5px 0 5px; padding:0px 0 0 0; border:none; color:white; height:0;"><md-icon style="color:gray" md-svg-icon="./bower_components/material-design-icons/content/svg/design/ic_add_48px.svg"></md-icon>
                                </button>
                                <input required style="border-width: 0 0 1px 0" ng-model="newstuff" type="text" placeholder="List item">
                            </div>
                        </form>
                </div>


<!--               NUMBER DATE AND TEXT-->
                <div ng-if="newItem.content.type == 'number' || newItem.content.type == 'date'
                        || newItem.content.type == 'text'" >

                       <md-input-container>
                        <label>New {{newItem.content.type}}</label>
                        <input ng-model="newItem.content.value" class="md-subhead" style="width:300px;" type="{{newItem.content.type}}" ng-init="newItem.content.value = ''">
                        </md-input-container>
                </div>
                <br />
                <br />
             <md-button ng-click="addItemToReport(); cancelDialog()" class="md-secondary md-raised" style="">Add me!</md-button>


<!--
            </md-card-content>
          </md-card>
-->
<!--          </div>-->
             </md-dialog-content>
    </md-dialog>
   </script>
 <script type="text/ng-template" id="pageDialog.html">
         <md-dialog focusOnOpen="false">
            <input style="display:none" type="text"  autofocus />
             <md-toolbar layout="row" layout-align="center center">
                 <h4 class="md-subhead" style="padding:0 25px">Add Page</h3>
                 <span flex></span>
                     <md-button class="md-icon-button" ng-click="cancelDialog()">
                       <md-icon md-svg-icon="./bower_components/material-design-icons/navigation/svg/design/ic_close_48px.svg" ></md-icon>
                     </md-button>
             </md-toolbar>
             <md-dialog-content>
                   <form ng-submit="">
                    <input ng-model="newPageTitle" required class="md-subhead" style="width:300px; border:none;" type="text" placeholder="Page Title">

                    <br />
                    <br />
                     <md-button type="submit" ng-click="addPageToReport(newPageTitle); cancelDialog()" class="md-secondary md-raised" style="">Add me!</md-button>
                     </form>
             </md-dialog-content>
        </md-dialog>
   </script>

                    </div>
           </md-tab-body>

            </md-tab>
            </md-tabs>
          </md-card>
<!-- <div class="footerSpace"></div>-->
        </md-content>



    </section>


    <div class="mainButtonMenu" ng-if="currentSection != 'default'">

        <div class="fab_add_expand" ng-show="show_add_icons">

                <a ng-click="showItemDialog($event)" layout="row" layout-align="end center" >
                    <div >Item</div>
                    <md-button class="md-fab md-hue-1 md-raised md-mini"  aria-label="Add Item">
                        <md-icon md-svg-icon="./bower_components/material-design-icons/content/svg/design/ic_add_48px.svg"></md-icon>
                    </md-button>
                </a>

                <a ng-click="showPageDialog($event)" layout="row" layout-align="end center" >
                    <div >Page</div>
                    <md-button class="md-fab md-hue-2 md-raised md-mini" aria-label="Add Page">
                        <md-icon md-svg-icon="./bower_components/material-design-icons/content/svg/design/ic_add_48px.svg"></md-icon>
                    </md-button>
                </a>

                <a ng-click="capturePagePhoto(service.selectedPage, report[currentSection][selImagePage])" layout="row" layout-align="end center">

                    <div>Image</div>
                    <md-button class="md-fab md-hue-3 md-raised md-mini" aria-label="Add Section">
                        <md-icon md-svg-icon="./bower_components/material-design-icons/image/svg/design/ic_camera_48px.svg"></md-icon>
                    </md-button>
                </a>

        </div>


        <md-button class="md-fab md-primary"  style="margin-right:27px;"  ng-click="toggleAdd()" aria-label="stuff">
           <md-icon md-svg-icon="./bower_components/material-design-icons/content/svg/design/ic_add_48px.svg"  ng-class="{'mainButton' : show_add_icons, 'mainButtonReverse' : !show_add_icons}"></md-icon>
        </md-button>

    </div>




</div>









